# Default values for go-mail-webhook-service.
# This chart models the application's config/config.yaml via .Values.configs (an array).
# The resulting ConfigMap renders to /config/config.yaml inside the container.

image:
  repository: ghcr.io/jo-hoe/go-mail-webhook-service
  tag: 0.1.0
  pullPolicy: IfNotPresent

# -- Optional imagePullSecrets
imagePullSecrets: []
# - name: regcred

nameOverride: ""
fullnameOverride: ""

serviceAccount:
  create: true
  name: ""

podAnnotations: {}

podSecurityContext: {}
#  fsGroup: 2000

securityContext: {}
#  runAsNonRoot: true
#  runAsUser: 1000
#  readOnlyRootFilesystem: true
#  allowPrivilegeEscalation: false

resources: {}
#  limits:
#    cpu: 100m
#    memory: 128Mi
#  requests:
#    cpu: 50m
#    memory: 64Mi

nodeSelector: {}
tolerations: []
affinity: {}

# Mounts and volumes to add in addition to the config ConfigMap
extraVolumeMounts: []
extraVolumes: []

# -- Controls rendering of a Kubernetes Job that runs the app to completion (requires RunOnce=true in configs)
job:
  enabled: false
  backoffLimit: 0
  ttlSecondsAfterFinished: 3600
  restartPolicy: Never
  annotations: {}
  labels: {}

# -- Controls rendering of a Kubernetes CronJob that runs the app on a schedule (ensure RunOnce=true in configs)
cronjob:
  enabled: false
  schedule: "*/5 * * * *"
  concurrencyPolicy: Forbid
  successfulJobsHistoryLimit: 1
  failedJobsHistoryLimit: 1
  startingDeadlineSeconds: null
  suspend: false
  annotations: {}
  labels: {}

# -- Environment variables for the container
env: []
# - name: HTTP_PROXY
#   value: http://proxy:8080

# -- The core application configuration. This renders verbatim into config/config.yaml (array of objects).
# Adjust credentialsPath to match how you mount secrets into the Pod.
configs: []
# Example:
# configs:
#   - mailClientConfig:
#       mail: "example@gmail.com"
#       credentialsPath: "/secrets/gmail/credentials.json"
#     mailSelectors:
#       - name: "OrderId"
#         type: "subjectRegex"
#         pattern: "Order ([0-9]+) confirmed"
#         captureGroup: 1
#         scope: true
#       - name: "Amount"
#         type: "bodyRegex"
#         pattern: "Total: \\$([0-9]+\\.[0-9]{2})"
#         captureGroup: 1
#         scope: false
#     callback:
#       url: "https://example.net/webhook"
#       method: "POST"
#       timeout: "24s"
#       retries: 0
#       fields:
#         - type: "headerValue"
#           name: "X-Order-Id"
#           value: "${OrderId}"
#         - type: "jsonValue"
#           name: "amount"
#           value: "${Amount}"
#         - type: "queryParamValue"
#           name: "source"
#           value: "gmail"
#     intervalBetweenExecutions: "0s"
#     runOnce: true